(function(e){if(typeof(Sneeit_Compact_Menu)=="undefined"){return}var c=new Object();function d(l,h){if(l.is(".loading")){return}var k=l.parent();if(k.parents(".menu-item-mega-category").length){k=k.parents(".menu-item-mega-category").first()}k=k.find(" > .menu-item-inner > .menu-mega-block > .menu-mega-block-content > .menu-mega-block-content-inner");if(!k.length){return}var j=Number(l.attr("data-id"));if(l.is(".loaded")){l.parents(".sneeit-compact-menu").find(".menu-item-object-category > a").removeClass("active");l.addClass("active");k.find(".sneeit-menu-mega-content").removeClass("active");k.find(".sneeit-menu-mega-content-"+j).each(function(){e(this).addClass("active");if(typeof(sneeit_img_optimize_thumbnail)=="function"){var m=e(this).find(".sneeit-thumb img");if(m.length){setTimeout(function(){sneeit_img_optimize_thumbnail(m)},100)}}});return}var g=Number(l.attr("data-cat"));k.parent().removeClass("loaded");c[h]=g;l.addClass("loading");var i=new Object();i.categories=c[h];i.menu_item_id=parseInt(j);i.has_children=k.parents(".menu-item-object-category").is(".menu-item-has-children");i.location=h;e.post(Sneeit_Compact_Menu.ajax_url,{action:"sneeit_compact_menu_mega_content",args:JSON.stringify(i),callback:Sneeit_Compact_Menu[h]["mega_block_display_callback"],}).done(function(n){l.removeClass("loading");if(l.is(".loaded")){return}var m='<div class="sneeit-menu-mega-content sneeit-menu-mega-content-'+j;if(g==c[h]){k.find(".sneeit-menu-mega-content").removeClass("active");m+=" active";l.parents(".sneeit-compact-menu").find(".menu-item-object-category > a").removeClass("active");l.addClass("active")}m+='">'+n+"</div>";l.addClass("loaded");k.append(m);k.parent().addClass("loaded")})}var a=new Object();function b(i,k,g,h){if(g.is(".sneeit-compact-menu-sticky")){return}k.css({width:i.css("width"),height:i.css("height"),padding:i.css("padding"),margin:i.css("margin"),position:i.css("position"),top:i.css("top"),left:i.css("left"),bottom:i.css("bottom"),right:i.css("right")});g.css("left",i.offset().left);g.css("width",i.width()+"px");var j=g.parent();j.css("height",j.height()+"px");if(!i.is(h)){i.hide()}g.addClass("sneeit-compact-menu-sticky");k.show();j.css("height","")}function f(h,i,g){if(!g.is(".sneeit-compact-menu-sticky")){return}g.removeClass("sneeit-compact-menu-sticky");g.css("left","").css("width","");h.css("height","");i.hide();h.show()}e.each(Sneeit_Compact_Menu,function(g,h){if(typeof(h.mega_block_display_callback)!="undefined"&&h.mega_block_display_callback){c[g]=-1;e("#"+h.container_id+" .menu > .menu-item-object-category.menu-item-mega-category > .menu-item-inner").each(function(){if(e(this).css("visibility")!="hidden"){e(this).parent().find("> a").each(function(){d(e(this),g)})}});e("#"+h.container_id+" .menu .menu-item-object-category.menu-item-mega-category > a, .menu .menu-item-mega-category li.menu-item-object-category > a").mouseenter(function(){d(e(this),g)})}if(typeof(h.sticky_enable)!="undefined"&&h.sticky_enable!="disable"){a[g]=-1;e(".sneeit-compact-menu-"+g).each(function(){a[g]++;var n=h.sticky_enable;var k=e(h.sticky_holder);var l=e(h.sticky_scroller);if(k.length==0){k=e(this)}if(l.length==0){l=e(this)}e('<div class="sneeit-compact-menu-holder-'+a[g]+'"></div>').insertBefore(k);var m=e(".sneeit-compact-menu-holder-"+a[g]);m.css({width:k.css("width"),height:k.css("height"),padding:k.css("padding"),margin:k.css("margin"),position:k.css("position"),top:k.css("top"),left:k.css("left"),bottom:k.css("bottom"),right:k.css("right"),display:"none"});var j=0;var i=false;e(window).scroll(function(){if(i){i=false;return}var p=0;if(l.is(".sneeit-compact-menu-sticky")){p=m.offset().top}else{p=k.offset().top}var o=e(window).scrollTop();if(o>p){switch(n){case"up":if(o<j){b(k,m,l,h.sticky_scroller)}else{f(k,m,l)}break;case"down":if(o>j){b(k,m,l)}else{f(k,m,l)}break;case"always":b(k,m,l,h.sticky_scroller);break;default:b(k,m,l);break}}else{f(k,m,l)}j=e(window).scrollTop();if(j!=o){i=true}})})}if(typeof(h.mobile_enable)&&h.mobile_enable&&typeof(h.mobile_container!="undefined")&&h.mobile_container){if(e(h.mobile_container).length){e("#"+h.container_id+" .menu").clone().addClass("sneeit-mob-menu").appendTo(e(h.mobile_container))}}});e(".sneeit-mob-menu .menu-mega-block").remove();e(".sneeit-mob-menu .menu-item-inner .sub-menu").unwrap(".menu-item-inner");e(".sneeit-mob-menu .menu-item-inner").remove();e(".sneeit-mob-menu").each(function(){e(this).find(".menu-item-has-children > a .icon-after").html('<span><i class="fa fa-angle-down inactive"></i><i class="fa fa-angle-up active"></i></span>')});e(".sneeit-mob-menu a").click(function(){var g=e(this).attr("href");if(typeof(g)=="undefined"||g=="#"||g==""){e(this).find("> .icon-after").each(function(){if(e(this).is(".active")){e(this).removeClass("active");e(this).parent().parent().find("> .sub-menu").stop().slideUp()}else{e(this).addClass("active");e(this).parent().parent().find("> .sub-menu").stop().slideDown()}});return false}});e(".sneeit-mob-menu .icon-after").click(function(){if(e(this).is(".active")){e(this).removeClass("active");e(this).parent().parent().find("> .sub-menu").stop().slideUp()}else{e(this).addClass("active");e(this).parent().parent().find("> .sub-menu").stop().slideDown()}return false})})(jQuery);