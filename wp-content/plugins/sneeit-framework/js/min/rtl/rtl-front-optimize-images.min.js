
var $=jQuery;var Sneeit_Img_Is_Firefox=typeof InstallTrigger!=="undefined";var Sneeit_Img_Is_IE=
/*@cc_on!@*/
false||!!document.documentMode;var Sneeit_Img_Is_Retina=false;function sneeit_img_is_high_density(){return((window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches))||(window.devicePixelRatio&&window.devicePixelRatio>1.3))}function sneeit_img_is_retina(){return((window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches))||(window.devicePixelRatio&&window.devicePixelRatio>=2))&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent)}(function(){var b=(typeof exports==="undefined"?window:exports);function a(){}b.Retina=a;a.isRetina=function(){}})();Sneeit_Img_Is_Retina=(sneeit_img_is_high_density()||sneeit_img_is_retina());if(Sneeit_Img_Is_Retina){$('img[data-retina!=""]').each(function(){$(this).attr("src",$(this).attr("data-retina"))})}function sneeit_img_srcset_parse(e){var c=e.split(", ");for(var d=0;d<c.length;d++){c[d]=c[d].split(" ");if(c[d].length==2){c[d][1]=c[d][1].replace("w","");if(isNaN(c[d][1])){c[d][1]=0}c[d][1]=Number(c[d][1])}}for(var d=c.length-1;d>=0;d-=1){if(c[d].length!=2||c[d][1]==0){c.splice(d,1)}}for(var d=0;d<c.length-1;d++){for(var b=d+1;b<c.length;b++){if(c[d][1]>c[b][1]){var a=c[b];c[b]=c[d];c[d]=a}}}return c}function sneeit_img_optimize_thumbnail_image(d){var d=$(d);var e=d.width();if(!e){d.removeClass("optimizing");return}var a=d.parent().parent();var h=a.offset().top;var g=a.offset().left;var c=d.offset().top;var f=d.offset().left;var b=d.height();if((e>b*3||Sneeit_Img_Is_Firefox)&&(!d.is(".special"))){d.addClass("special");setTimeout(function(){sneeit_img_optimize_thumbnail_image(d)},50);return}if(g<f&&d.parent().is(".sneeit-thumb-landscape")){d.parent().removeClass("sneeit-thumb-landscape").addClass("sneeit-thumb-portrait");d.css("bottom","0");var e=d.width();var b=d.height();if(b>1.3*e){d.css("bottom","auto")}if(Sneeit_Img_Is_Firefox){var b=d.height();var i=a.height();var c=(b-i)/2;d.css("top","-"+c+"px").css("bottom","auto")}}else{if(h<c&&d.parent().is(".sneeit-thumb-portrait")){d.parent().removeClass("sneeit-thumb-portrait").addClass("sneeit-thumb-landscape")}}d.parents(".sneeit-thumb").addClass("optimized");d.removeClass("optimizing")}function sneeit_img_optimize_thumbnail(a){if(typeof(a)=="undefined"){a=$(".sneeit-thumb img")}a.each(function(){var j=$(this);if(j.is(".optimizing")){return}j.addClass("optimizing");if($(this).is(".skip")){var f=this;f.sneeit_img_optimize_skip_thumnail_counter=0;f.sneeit_img_optimize_skip_thumnail=setInterval(function(){if(f.sneeit_img_optimize_skip_thumnail_counter>=100){clearInterval(f.sneeit_img_optimize_skip_thumnail);f.sneeit_img_optimize_skip_thumnail=null;$(f).removeClass("optimizing");return}if($(f).is(":not(.skip)")){clearInterval(f.sneeit_img_optimize_skip_thumnail);f.sneeit_img_optimize_skip_thumnail=null;$(f).removeClass("optimizing");f.sneeit_img_optimize_skip_thumnail_counter=0;sneeit_img_optimize_thumbnail($(f));return}f.sneeit_img_optimize_skip_thumnail_counter++},100);return}var c=j.attr("src");if(j.parent().is(".sneeit-thumb-f")){j.wrap('<span class="sneeit-thumb-landscape"></span>')}var d=j.attr("data-ss");var g=j.attr("data-s");var o=j.attr("width");var m=j.attr("height");if(typeof(d)!="undefined"&&typeof(o)!="undefined"&&typeof(m)!="undefined"){c=g;o=Number(o);m=Number(m);var p=sneeit_img_srcset_parse(d);if(p.length&&o&&m){var b=j.parents(".sneeit-thumb");var n=b.height();var l=b.width();var e=m*l/o;if(e<n){l=o*n/m;e=n}var k="";if(Sneeit_Img_Is_Retina){l=l*2}for(var h=0;h<p.length;h++){if(p[h][1]==l){k=p[h][0];break}}if(!k){for(var h=0;h<p.length;h++){if(p[h][1]>l){k=p[h][0];break}}if(h<p.length){if(0==h){k=p[h][0]}else{if(p[h-1][1]>=l*0.9||sneeit_optimize_img.use_smaller_thumbnails){k=p[h-1][0]}else{k=p[h][0]}}}else{k=p[p.length-1][0]}}if(!k){k=c}else{c=k}j.attr("src",k)}}else{if((typeof(c)=="undefined"||!c||c=="data:image/gif;base64,")&&typeof(g)!="undefined"){c=g;j.attr("src",c)}}if(c.indexOf("youtube.com")!=-1&&c.indexOf("/default.")!=-1){j.attr("src",c.replace("/default.","/mqdefault."))}if(j.parent().is(".sneeit-thumb-a")){j.parent().addClass("optimized");j.removeClass("optimizing");return}if(this.complete){sneeit_img_optimize_thumbnail_image(this)}else{j.on("load",function(){sneeit_img_optimize_thumbnail_image(this)})}})}setTimeout(function(){Sneeit_Img_Is_Retina=(sneeit_img_is_high_density()||sneeit_img_is_retina());sneeit_img_optimize_thumbnail()},300);$(window).resize(function(){setTimeout(function(){Sneeit_Img_Is_Retina=(sneeit_img_is_high_density()||sneeit_img_is_retina());sneeit_img_optimize_thumbnail()},300)});$(document).ajaxComplete(function(c,b,a){if("responseText" in b&&b.responseText.indexOf("sneeit-thumb")!=-1){setTimeout(function(){Sneeit_Img_Is_Retina=(sneeit_img_is_high_density()||sneeit_img_is_retina());sneeit_img_optimize_thumbnail($(".sneeit-thumb:not(.optimized) img"))},300)}});